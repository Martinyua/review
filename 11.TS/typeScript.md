https://www.huaweicloud.com/articles/f03e973395df0a4650e1ba6ce03b3909.html



### 为什么要typeScript

* TS对应JS的改进主要是静态类型检查，静态类型更有利于构建大型应用
  * **便于查错**，一旦代码发生类型不匹配，语言在编译阶段即可发现
  * 对于**阅读代码友好**。针对大型应用，方法众多，调用关系复杂，不可能每个函数都有人编写细致的文档，所以静态类型就是非常重要的**提示和约束。**
  * **方便后期的维护**，迭代和重构。如果用ts写了一个很复杂的对象，写的时候很清楚里面的类型。但是以后动起来就很麻烦
  * `VSCode` 会给你自动提示支持的参数和类型等

* 几个例子：

  * 开发时，我们通常会根据后端提供的接口提前定义好一些interface文件。这样就不需要每次都去翻阅接口文档了
  * 强类型写起来更放心
  * 假如我们的参数是一个嵌套比较深的对象。我们通过interface定义这个对象，这样我们在后面使用的时候就一目了然。不用再去翻阅接口文档
  * 方便后期维护 ，迭代



### ts泛型工具

### interface VS type

https://zhuanlan.zhihu.com/p/351213183

#### 区别

几乎所有的接口功能都可以在类型中使用。

但是也有一些区别

* interface不能定义基本类型别名

* 接口是通过继承的方式来拓展。类型别名是通过 & 来拓展![img](https://pic3.zhimg.com/80/v2-b1082bbb757c1373cf1b0649185ea07e_720w.jpg)

* 接口可以自动合并，而类型别名不行

  ![img](https://pic2.zhimg.com/80/v2-56b037e6e20c2263382dc00bd86730c1_720w.jpg)



#### 什么时候用interface，type

意思是说能用 interface 的地方就用 interface，否则用 type，其实这个解释官方说的也比较明确，这样使用的原因是因为更贴合 JavaScript 对象的工作方式，再清晰一些，如果我们是定义一个 object，那么最好是使用 interface 去做类型声明，什么时候用 type 呢，当定义一个 function 的时候，用 type 会更好一些。

interface是接口，type是类型，本身就是两个概念。只是碰巧表现上比较相似。
希望定义一个变量类型，就用type，如果希望是能够**继承并约束**的，就用interface。
如果你不知道该用哪个，说明你只是想定义一个类型而非接口，所以应该用type。

### 泛型和any

看下面这个TypeScript函数：

```javascript
function identity(arg: any): any {
    return arg;
}
```

虽然使用any类型后这个函数已经能接收任何类型的`arg`参数，但是却丢失了一些信息：**传入的类型与返回的类型应该是相同的**。 通过any类型，无法实现这个约束。

因此，需要一种方法使返回值的类型与传入参数的类型是相同的。 这里，我们使用了**类型变量**，它是一种特殊的变量，只用于表示类型而不是值。

```javascript
function identity<T>(arg: T): T {
    return arg;
}
```





### d.ts的作用

用来描述库中成员类型来给TS用的。 比如你有一个之前自己写的js库，现在你想把它用到ts里，但是ts不知道你所暴露的成员是什么鬼，d.ts就是用来告诉tsc你定义的都是些什么鬼的。 好处是，代码更安全，编辑器可以智能提示。 当然，偷懒的话，你可以使用any。

* 在使用ts的时候，最大的一个好处就是可以给js各种类型约束，使得js能够完成静态代码分析，推断代码中存在的类型错误或者进行类型提示

* ts完成类型推断，需要事先知道变量的类型，如果我们都是用ts书写代码，并且给变量都指定了明确的类型，这时ts可以很好的完成类型推断工作

* 但是有时，我们不免会引入外部的 js 库，这时ts就对引入的js文件里变量的具体类型不明确了，为了告诉ts变量的类型，因此就有了.d.ts (d即declare)，ts的声明文件。

  ts在没有明确指定类型时推测出一个类型（比如定义时赋值了），如果定义时没有赋值，就会被推断成any类型，不被类型检查







* 联合类型：
  表示取值可以为多种类型中的一种，以分隔符｜进行分隔
  当ts不确定一个联合类型的变量到底是哪个类型的时候，我们只能访问联合类型的所有类型中共有的属性和方法
* 接口
  我一般用它来定义一个对象
  一个接口中只能定义一个任意类型
* 可选属性
  ？  age？
* 数组的类型
  1.	number［］
   2.	用数组泛型表示Array<number>
    	3.	类数组要用接口表示

* 声明文件
  在使用第三方库的时候，我们需要引入他们对应的声明文件，获取对应的代码补全，接口提示等功能
  d.ts就是一个声明文件，我们一般会将声明语句放在一个单独的文件中，所有的ts文件可以获取到d.ts文件里的类型定义
  * declare var 声明全局变量
  * declare function 声明全局方法
  * declare class 声明全局类
  * declare enum 声明全局枚举类型
  * declare namespace 声明（含有子属性的）全局对象
  * interface 和 type 声明全局类型

* 类型别名
  类型别名用来给一个类型起个新名字，使用 type 创建类型别名

* 元组
  数组合并了相同类型的对象，而元组（Tuple）合并了不同类型的对象

* 枚举
  枚举（Enum）类型用于取值被限定在一定范围内的场景，比如一周只能有七天，颜色限定为红绿蓝等。

* 泛型
  泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性。

* Type和interface 
  interface 可以通过继承进行拓展，type是通过&进行拓展
  Interface进行的声明会合并，而type定义的会报错
  从使用上来讲，interface一般用来描述一个对象的形状，而type的话用做类型别名，一般结合联合类型，在特定情况进行类型指定

Typescript 的编译原理