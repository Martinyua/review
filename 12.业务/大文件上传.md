### 怎么实现大文件上传，断点续传？
答：
大文件使用文件内容hash进行标识，对文件进行切片，分片上传。

1. 通过antd中upload组件，自定义属性customRequest获取File对象；使用h5中FileReader方法将file转换成Buffer数据，使用spark-md5库，end()方法根据文件内容获取hash值。

2. 创建切片，设置每个切片大小固定为2M字节，创建file.size/2M个切片，每个切片使用formData数据格式发送，文件名用hash加index来区分，方便服务端接收到切片能区分顺序。

3. 创建切片请求列表，每一个请求都是一个axios.post请求，请求接口是一个接收切片的接口；所有的请求采用串行请求，方便中断传输。

4. 当所有切片发送完成后，请求一个合并接口，告诉服务器所有切片发送完成，请求合并切片，随后得到资源地址。

5. 断点续传：通过服务器保存已经上传过切片的hash，对于已经上传的文件，实现秒传和续传。(不是使用localstorage记录上传的hash，为了避免用户更换服务器后失去记忆效果。)